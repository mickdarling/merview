# Lychee configuration for internal link and anchor verification
# Documentation: https://lychee.cli.rs/usage/config/

# Check only local/internal links (offline mode)
# This skips all external URLs
offline = true

# Include fragment/anchor checking
# This validates that #heading-anchors actually exist
include_fragments = true

# Timeout for each request (in seconds)
timeout = 10

# Maximum number of retries per link
max_retries = 2

# Exclude these directories from being scanned
exclude_path = [
    'node_modules/',
    'cloudflare-worker/node_modules/',
    'playwright-report/',
    'test-results/',
    '.git/',
    'dist/',
    'build/',
]

# Note: With offline = true, external HTTP/HTTPS URLs are automatically skipped,
# so we don't need to explicitly exclude localhost or example.com URLs

# Maximum number of concurrent checks
max_concurrency = 16

# Follow redirects
max_redirects = 5

# Note: verbose output is controlled via --verbose flag in workflow args

# Skip links inside code blocks (```...```)
# Set to false because code examples often contain placeholder/example paths
# that don't need to resolve to actual files
include_verbatim = false
